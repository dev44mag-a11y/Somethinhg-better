<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tropical Revolution</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffcc00;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .game-area {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .island-map {
            background: linear-gradient(to bottom, #87CEEB, #32CD32);
            border: 3px solid #8B4513;
            border-radius: 10px;
            height: 500px;
            position: relative;
            overflow: hidden;
        }

        .zone {
            position: absolute;
            border: 2px dashed rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            transition: all 0.3s;
        }

        .zone:hover {
            transform: scale(1.05);
            background-color: rgba(255, 255, 255, 0.3);
        }

        .zone.urban { background-color: rgba(128, 128, 128, 0.6); }
        .zone.rural { background-color: rgba(34, 139, 34, 0.6); }
        .zone.mountain { background-color: rgba(139, 69, 19, 0.6); }
        .zone.coastal { background-color: rgba(30, 144, 255, 0.6); }

        .stats-panel {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .stat-bar {
            background: #333;
            border-radius: 5px;
            height: 25px;
            overflow: hidden;
            position: relative;
        }

        .stat-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s;
        }

        .stability { background: linear-gradient(to right, #ff0000, #ffff00, #00ff00); }
        .economy { background: linear-gradient(to right, #ff8c00, #ffd700, #90ee90); }
        .support { background: linear-gradient(to right, #dc143c, #ffb6c1, #98fb98); }
        .military { background: linear-gradient(to right, #8b0000, #ff4500, #32cd32); }

        .stat-label {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            text-shadow: 1px 1px 2px black;
        }

        .resources {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .resource {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .resource-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffcc00;
        }

        .actions-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .action-card:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ffcc00;
            transform: translateY(-5px);
        }

        .action-card h3 {
            color: #ffcc00;
            margin-bottom: 10px;
        }

        .action-cost {
            color: #ff6b6b;
            font-weight: bold;
            margin-top: 10px;
        }

        .events-log {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            height: 200px;
            overflow-y: auto;
        }

        .event {
            padding: 8px;
            margin-bottom: 8px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
        }

        .event.positive { border-left: 4px solid #4CAF50; }
        .event.negative { border-left: 4px solid #f44336; }
        .event.neutral { border-left: 4px solid #2196F3; }

        .faction-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
        }

        .faction {
            text-align: center;
            flex: 1;
        }

        .faction-support {
            height: 10px;
            background: #333;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }

        .faction-fill {
            height: 100%;
            border-radius: 5px;
        }

        .capitalists { background: #FFD700; }
        .communists { background: #FF4500; }
        .nationalists { background: #32CD32; }
        .religious { background: #8A2BE2; }
        .militarists { background: #DC143C; }

        button {
            background: linear-gradient(to bottom, #ffcc00, #ff9900);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        button:hover {
            background: linear-gradient(to bottom, #ffd700, #ffaa00);
            transform: scale(1.05);
        }

        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üå¥ Tropical Revolution üå¥</h1>
            <p>Governo: <span id="government-type">Rep√∫blica Democr√°tica</span> | Ano: <span id="year">1985</span></p>
        </header>

        <div class="game-area">
            <div class="island-map" id="island-map">
                <!-- Zonas ser√£o geradas via JavaScript -->
            </div>

            <div class="stats-panel">
                <h2>Indicadores Nacionais</h2>
                
                <div class="tooltip">
                    Estabilidade:
                    <span class="tooltiptext">Qu√£o est√°vel √© o seu governo. Baixa estabilidade pode levar a revoltas.</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-fill stability" id="stability-bar" style="width: 65%;"></div>
                    <div class="stat-label" id="stability-text">65%</div>
                </div>

                <div class="tooltip">
                    Economia:
                    <span class="tooltiptext">Sa√∫de da sua economia. Afeta seus recursos e capacidade de investimento.</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-fill economy" id="economy-bar" style="width: 45%;"></div>
                    <div class="stat-label" id="economy-text">45%</div>
                </div>

                <div class="tooltip">
                    Apoio Popular:
                    <span class="tooltiptext">Quanto o povo apoia seu governo. Baixo apoio reduz estabilidade.</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-fill support" id="support-bar" style="width: 70%;"></div>
                    <div class="stat-label" id="support-text">70%</div>
                </div>

                <div class="tooltip">
                    Controle Militar:
                    <span class="tooltiptext">Quanto do territ√≥rio est√° sob controle governamental.</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-fill military" id="military-bar" style="width: 85%;"></div>
                    <div class="stat-label" id="military-text">85%</div>
                </div>

                <div class="resources">
                    <div class="resource">
                        <div>üí∞ Or√ßamento</div>
                        <div class="resource-value" id="budget">$15,000</div>
                    </div>
                    <div class="resource">
                        <div>üõ¢Ô∏è Recursos</div>
                        <div class="resource-value" id="resources">2,500</div>
                    </div>
                    <div class="resource">
                        <div>üë• Popula√ß√£o</div>
                        <div class="resource-value" id="population">125K</div>
                    </div>
                    <div class="resource">
                        <div>‚ö° Energia</div>
                        <div class="resource-value" id="energy">1,200</div>
                    </div>
                </div>

                <h3>Fac√ß√µes Pol√≠ticas</h3>
                <div class="faction-bar">
                    <div class="faction">
                        <div>Capitalistas</div>
                        <div class="faction-support">
                            <div class="faction-fill capitalists" style="width: 40%;"></div>
                        </div>
                        <div>40%</div>
                    </div>
                    <div class="faction">
                        <div>Comunistas</div>
                        <div class="faction-support">
                            <div class="faction-fill communists" style="width: 25%;"></div>
                        </div>
                        <div>25%</div>
                    </div>
                    <div class="faction">
                        <div>Nacionalistas</div>
                        <div class="faction-support">
                            <div class="faction-fill nationalists" style="width: 60%;"></div>
                        </div>
                        <div>60%</div>
                    </div>
                    <div class="faction">
                        <div>Religiosos</div>
                        <div class="faction-support">
                            <div class="faction-fill religious" style="width: 35%;"></div>
                        </div>
                        <div>35%</div>
                    </div>
                    <div class="faction">
                        <div>Militares</div>
                        <div class="faction-support">
                            <div class="faction-fill militarists" style="width: 55%;"></div>
                        </div>
                        <div>55%</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="actions-panel" id="actions-panel">
            <!-- A√ß√µes ser√£o geradas via JavaScript -->
        </div>

        <div class="events-log" id="events-log">
            <h3>üì∞ Eventos e Not√≠cias</h3>
            <!-- Eventos ser√£o gerados via JavaScript -->
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <button id="next-turn">Pr√≥ximo Turno</button>
        </div>
    </div>

    <script>
        // Estado do jogo
        const gameState = {
            year: 1985,
            stability: 65,
            economy: 45,
            support: 70,
            military: 85,
            budget: 15000,
            resources: 2500,
            population: 125000,
            energy: 1200,
            government: "Rep√∫blica Democr√°tica",
            factions: {
                capitalists: 40,
                communists: 25,
                nationalists: 60,
                religious: 35,
                militarists: 55
            },
            zones: [],
            events: [],
            actions: [
                {
                    id: 1,
                    name: "Construir Escola",
                    description: "Melhora educa√ß√£o e apoio popular",
                    cost: 2000,
                    effect: { support: 5, economy: 2, stability: 3 },
                    type: "development"
                },
                {
                    id: 2,
                    name: "Investir em Turismo",
                    description: "Aumenta economia mas pode causar infla√ß√£o",
                    cost: 3000,
                    effect: { economy: 10, stability: -2 },
                    type: "economic"
                },
                {
                    id: 3,
                    name: "Opera√ß√£o Militar",
                    description: "Aumenta controle militar mas reduz apoio popular",
                    cost: 5000,
                    effect: { military: 10, support: -5 },
                    type: "military"
                },
                {
                    id: 4,
                    name: "Programa de Bem-Estar",
                    description: "Aumenta apoio popular mas custa recursos",
                    cost: 4000,
                    effect: { support: 8, budget: -1000 },
                    type: "social"
                },
                {
                    id: 5,
                    name: "Explora√ß√£o de Recursos",
                    description: "Aumenta recursos mas pode danificar o meio ambiente",
                    cost: 2500,
                    effect: { resources: 500, support: -3 },
                    type: "economic"
                },
                {
                    id: 6,
                    name: "Alian√ßa Estrangeira",
                    description: "Ganha apoio internacional mas perde soberania",
                    cost: 1500,
                    effect: { stability: 5, economy: 5, military: -5 },
                    type: "diplomatic"
                }
            ]
        };

        // Inicializa√ß√£o do jogo
        function initGame() {
            generateZones();
            updateUI();
            logEvent("Bem-vindo ao Tropical Revolution! Sua miss√£o √© governar esta ilha tropical enquanto enfrenta desafios pol√≠ticos, econ√¥micos e sociais.", "neutral");
            logEvent("As elei√ß√µes est√£o chegando! Mantenha o apoio popular alto para permanecer no poder.", "negative");
        }

        // Gera√ß√£o das zonas da ilha
        function generateZones() {
            const map = document.getElementById('island-map');
            const zoneTypes = [
                { type: 'urban', name: 'Cidade Capital', count: 1 },
                { type: 'urban', name: 'Cidade Portu√°ria', count: 1 },
                { type: 'rural', name: 'Zona Agr√≠cola', count: 3 },
                { type: 'mountain', name: 'Regi√£o Montanhosa', count: 2 },
                { type: 'coastal', name: '√Årea Costeira', count: 2 }
            ];

            let zones = [];
            zoneTypes.forEach(zoneType => {
                for (let i = 0; i < zoneType.count; i++) {
                    zones.push({
                        type: zoneType.type,
                        name: `${zoneType.name} ${i + 1}`,
                        x: Math.random() * 70 + 5,
                        y: Math.random() * 70 + 5,
                        width: 20 + Math.random() * 15,
                        height: 15 + Math.random() * 10,
                        stability: 50 + Math.random() * 40,
                        development: Math.random() * 100
                    });
                }
            });

            gameState.zones = zones;

            // Renderizar zonas
            zones.forEach(zone => {
                const zoneElement = document.createElement('div');
                zoneElement.className = `zone ${zone.type}`;
                zoneElement.style.left = `${zone.x}%`;
                zoneElement.style.top = `${zone.y}%`;
                zoneElement.style.width = `${zone.width}%`;
                zoneElement.style.height = `${zone.height}%`;
                zoneElement.innerHTML = zone.name;
                zoneElement.title = `Estabilidade: ${Math.round(zone.stability)}% | Desenvolvimento: ${Math.round(zone.development)}%`;
                
                zoneElement.addEventListener('click', () => {
                    alert(`${zone.name}\nTipo: ${zone.type}\nEstabilidade: ${Math.round(zone.stability)}%\nDesenvolvimento: ${Math.round(zone.development)}%`);
                });
                
                map.appendChild(zoneElement);
            });
        }

        // Atualizar interface do usu√°rio
        function updateUI() {
            document.getElementById('year').textContent = gameState.year;
            document.getElementById('government-type').textContent = gameState.government;
            
            // Atualizar barras de status
            document.getElementById('stability-bar').style.width = `${gameState.stability}%`;
            document.getElementById('stability-text').textContent = `${gameState.stability}%`;
            
            document.getElementById('economy-bar').style.width = `${gameState.economy}%`;
            document.getElementById('economy-text').textContent = `${gameState.economy}%`;
            
            document.getElementById('support-bar').style.width = `${gameState.support}%`;
            document.getElementById('support-text').textContent = `${gameState.support}%`;
            
            document.getElementById('military-bar').style.width = `${gameState.military}%`;
            document.getElementById('military-text').textContent = `${gameState.military}%`;
            
            // Atualizar recursos
            document.getElementById('budget').textContent = `$${gameState.budget.toLocaleString()}`;
            document.getElementById('resources').textContent = gameState.resources.toLocaleString();
            document.getElementById('population').textContent = `${(gameState.population / 1000).toFixed(0)}K`;
            document.getElementById('energy').textContent = gameState.energy.toLocaleString();
            
            // Atualizar a√ß√µes
            updateActions();
        }

        // Atualizar painel de a√ß√µes
        function updateActions() {
            const actionsPanel = document.getElementById('actions-panel');
            actionsPanel.innerHTML = '';
            
            gameState.actions.forEach(action => {
                const canAfford = gameState.budget >= action.cost;
                const actionElement = document.createElement('div');
                actionElement.className = 'action-card';
                actionElement.innerHTML = `
                    <h3>${action.name}</h3>
                    <p>${action.description}</p>
                    <div class="action-cost">Custo: $${action.cost.toLocaleString()}</div>
                    <button ${!canAfford ? 'disabled' : ''}>Executar</button>
                `;
                
                actionElement.querySelector('button').addEventListener('click', () => {
                    executeAction(action);
                });
                
                actionsPanel.appendChild(actionElement);
            });
        }

        // Executar uma a√ß√£o
        function executeAction(action) {
            if (gameState.budget < action.cost) {
                logEvent(`Or√ßamento insuficiente para ${action.name.toLowerCase()}!`, "negative");
                return;
            }
            
            gameState.budget -= action.cost;
            
            // Aplicar efeitos
            Object.keys(action.effect).forEach(stat => {
                if (stat === 'budget') {
                    gameState.budget += action.effect[stat];
                } else {
                    gameState[stat] = Math.max(0, Math.min(100, gameState[stat] + action.effect[stat]));
                }
            });
            
            logEvent(`A√ß√£o executada: ${action.name}`, "positive");
            updateUI();
            checkGameState();
        }

        // Registrar evento
        function logEvent(message, type = "neutral") {
            const eventsLog = document.getElementById('events-log');
            const eventElement = document.createElement('div');
            eventElement.className = `event ${type}`;
            eventElement.textContent = `Turno ${gameState.year - 1984}: ${message}`;
            
            eventsLog.appendChild(eventElement);
            eventsLog.scrollTop = eventsLog.scrollHeight;
            
            gameState.events.push({ message, type, turn: gameState.year - 1984 });
            
            // Manter apenas os √∫ltimos 10 eventos
            if (eventsLog.children.length > 10) {
                eventsLog.removeChild(eventsLog.firstChild.nextSibling.nextSibling);
            }
        }

        // Verificar estado do jogo
        function checkGameState() {
            // Verificar vit√≥ria/derrota
            if (gameState.stability <= 0) {
                alert("GAME OVER! O seu governo entrou em colapso devido √† instabilidade.");
                resetGame();
                return;
            }
            
            if (gameState.stability >= 90 && gameState.economy >= 80 && gameState.support >= 85) {
                alert("VIT√ìRIA! Voc√™ transformou a ilha em uma na√ß√£o pr√≥spera e est√°vel!");
                resetGame();
                return;
            }
            
            // Eventos aleat√≥rios
            if (Math.random() < 0.3) {
                triggerRandomEvent();
            }
        }

        // Acionar evento aleat√≥rio
        function triggerRandomEvent() {
            const events = [
                {
                    message: "Descoberta de reservas de petr√≥leo! A economia recebe um impulso.",
                    type: "positive",
                    effect: { economy: 10, budget: 2000 }
                },
                {
                    message: "Protestos em massa contra o governo! Apoio popular cai.",
                    type: "negative",
                    effect: { support: -15, stability: -10 }
                },
                {
                    message: "Tempestade tropical causa danos √† infraestrutura!",
                    type: "negative",
                    effect: { economy: -8, budget: -1500 }
                },
                {
                    message: "Aumento no turismo internacional! Receitas sobem.",
                    type: "positive",
                    effect: { economy: 12, budget: 2500 }
                },
                {
                    message: "Esc√¢ndalo de corrup√ß√£o abala o governo!",
                    type: "negative",
                    effect: { support: -20, stability: -15 }
                }
            ];
            
            const event = events[Math.floor(Math.random() * events.length)];
            logEvent(event.message, event.type);
            
            // Aplicar efeitos do evento
            Object.keys(event.effect).forEach(stat => {
                if (stat === 'budget') {
                    gameState.budget += event.effect[stat];
                } else {
                    gameState[stat] = Math.max(0, Math.min(100, gameState[stat] + event.effect[stat]));
                }
            });
            
            updateUI();
        }

        // Reiniciar o jogo
        function resetGame() {
            gameState.year = 1985;
            gameState.stability = 65;
            gameState.economy = 45;
            gameState.support = 70;
            gameState.military = 85;
            gameState.budget = 15000;
            gameState.resources = 2500;
            gameState.population = 125000;
            gameState.energy = 1200;
            
            const eventsLog = document.getElementById('events-log');
            eventsLog.innerHTML = '<h3>üì∞ Eventos e Not√≠cias</h3>';
            
            initGame();
        }

        // Avan√ßar turno
        document.getElementById('next-turn').addEventListener('click', () => {
            gameState.year++;
            
            // Efeitos de turno
            gameState.budget += Math.floor(gameState.economy * 50);
            gameState.resources += Math.floor(Math.random() * 100);
            gameState.population += Math.floor(Math.random() * 5000);
            
            // Pequenas varia√ß√µes aleat√≥rias
            gameState.stability += Math.floor(Math.random() * 6) - 3;
            gameState.economy += Math.floor(Math.random() * 5) - 2;
            gameState.support += Math.floor(Math.random() * 5) - 2;
            
            // Garantir que os valores permane√ßam dentro dos limites
            ['stability', 'economy', 'support', 'military'].forEach(stat => {
                gameState[stat] = Math.max(0, Math.min(100, gameState[stat]));
            });
            
            logEvent("Novo turno iniciado. Or√ßamento atualizado com base na economia.", "neutral");
            updateUI();
            checkGameState();
        });

        // Iniciar o jogo quando a p√°gina carregar
        window.onload = initGame;
    </script>
</body>
</html>
