<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tropical Revolution - Expandido</title>

    <!-- External styles (move inline CSS to this file) -->
    <link rel="stylesheet" href="styles.css">

    <!-- Place for metadata, manifest, favicons -->
    <!-- Ex: <link rel="manifest" href="/manifest.json"> -->
</head>
<body>
    <!-- Banana Background Container (decorativo) -->
    <div class="banana-container" aria-hidden="true"></div>

    <div class="container" id="app">
        <header>
            <div>
                <h1 id="game-title">üå¥ Tropical Revolution üå¥</h1>
                <p>
                    Governo:
                    <span id="government-type">Rep√∫blica Democr√°tica</span>
                    |
                    Ano: <span id="year">1985</span>
                    |
                    Dificuldade: <span id="difficulty">Normal</span>
                </p>
            </div>

            <div class="audio-controls" aria-hidden="false">
                <button class="audio-btn" id="music-toggle" aria-pressed="false">üîä M√∫sica</button>
                <button class="audio-btn" id="sfx-toggle" aria-pressed="true">üîä Efeitos</button>

                <!-- Background preset selection (you can add external images in /assets/images/) -->
                <select id="background-select" aria-label="Selecionar fundo da cena">
                    <option value="default">Fundo Padr√£o</option>
                    <option value="beach">Praia Tropical</option>
                    <option value="jungle">Selva</option>
                    <option value="mountain">Montanhas</option>
                    <option value="city">Cidade</option>
                </select>
            </div>
        </header>

        <main>
            <div class="controls">
                <div class="difficulty-selector" role="tablist" aria-label="Dificuldade">
                    <button class="difficulty-btn active" data-difficulty="easy">F√°cil</button>
                    <button class="difficulty-btn" data-difficulty="normal">Normal</button>
                    <button class="difficulty-btn" data-difficulty="hard">Dif√≠cil</button>
                    <button class="difficulty-btn" data-difficulty="expert">Especialista</button>
                </div>

                <div class="map-selector" role="tablist" aria-label="Mapa">
                    <button class="map-btn active" data-map="tropical">Ilha Tropical</button>
                    <button class="map-btn" data-map="archipelago">Arquip√©lago</button>
                    <button class="map-btn" data-map="mainland">Continente</button>
                </div>
            </div>

            <div class="regime-selector" role="radiogroup" aria-label="Selecionar regime">
                <!-- role radiogroup + aria-checked nos bot√µes para acessibilidade -->
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="democracy">Democracia</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="laissez_faire">Laissez-Faire</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="social_democracy">Social-Democracia</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="populism">Populismo</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="communism">Comunismo</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="fascism">Fascismo</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="theocracy">Teocracia</button>
                <button class="regime-btn" role="radio" aria-checked="false" data-regime="military_junta">Junta Militar</button>
            </div>

            <div class="tab-container" role="tablist" aria-label="Guias">
                <div class="tab active" data-tab="main" role="tab" aria-selected="true">Principal</div>
                <div class="tab" data-tab="economy" role="tab" aria-selected="false">Economia</div>
                <div class="tab" data-tab="military" role="tab" aria-selected="false">Militar</div>
                <div class="tab" data-tab="diplomacy" role="tab" aria-selected="false">Diplomacia</div>
            </div>

            <section class="tab-content active" id="main-tab" role="tabpanel">
                <div class="game-area">
                    <div class="island-map" id="island-map" aria-label="Mapa do territ√≥rio" tabindex="0">
                        <!-- Zonas geradas por js -->
                    </div>

                    <aside class="stats-panel" aria-labelledby="indicadores-h">
                        <h2 id="indicadores-h">Indicadores Nacionais</h2>

                        <div class="tooltip">
                            Estabilidade:
                            <span class="tooltiptext">Qu√£o est√°vel √© o seu governo. Baixa estabilidade pode levar a revoltas.</span>
                        </div>
                        <div class="stat-bar" aria-hidden="false">
                            <div class="stat-fill stability" id="stability-bar" style="width: 65%;"></div>
                            <div class="stat-label" id="stability-text">65%</div>
                        </div>

                        <div class="tooltip">
                            Economia:
                            <span class="tooltiptext">Sa√∫de da sua economia. Afeta seus recursos e capacidade de investimento.</span>
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill economy" id="economy-bar" style="width: 45%;"></div>
                            <div class="stat-label" id="economy-text">45%</div>
                        </div>

                        <div class="tooltip">
                            Apoio Popular:
                            <span class="tooltiptext">Quanto o povo apoia seu governo. Baixo apoio reduz estabilidade.</span>
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill support" id="support-bar" style="width: 70%;"></div>
                            <div class="stat-label" id="support-text">70%</div>
                        </div>

                        <div class="tooltip">
                            Controle Militar:
                            <span class="tooltiptext">Quanto do territ√≥rio est√° sob controle governamental.</span>
                        </div>
                        <div class="stat-bar">
                            <div class="stat-fill military" id="military-bar" style="width: 85%;"></div>
                            <div class="stat-label" id="military-text">85%</div>
                        </div>

                        <div class="resources" aria-hidden="false">
                            <div class="resource">
                                <div>üí∞ Or√ßamento</div>
                                <div class="resource-value" id="budget">$15,000</div>
                            </div>
                            <div class="resource">
                                <div>üõ¢Ô∏è Recursos</div>
                                <div class="resource-value" id="resources">2,500</div>
                            </div>
                            <div class="resource">
                                <div>üë• Popula√ß√£o</div>
                                <div class="resource-value" id="population">125K</div>
                            </div>
                            <div class="resource">
                                <div>‚ö° Energia</div>
                                <div class="resource-value" id="energy">1,200</div>
                            </div>
                        </div>

                        <h3>Fac√ß√µes Pol√≠ticas</h3>
                        <div class="faction-bar" aria-hidden="false">
                            <!-- fac√ß√µes... -->
                        </div>
                    </aside>
                </div>

                <div class="actions-panel" id="actions-panel" aria-label="A√ß√µes dispon√≠veis">
                    <!-- A√ß√µes geradas por js -->
                </div>

                <div class="events-log" id="events-log" role="log" aria-live="polite" aria-atomic="false">
                    <h3>üì∞ Eventos e Not√≠cias</h3>
                    <!-- Eventos inseridos dinamicamente -->
                </div>

                <div style="text-align:center; margin-top:20px;">
                    <button id="next-turn">Pr√≥ximo Turno</button>
                </div>
            </section>

            <!-- Removi conte√∫do duplicado dos outros tabs para manter HTML enxuto.
                 As abas carregam os conte√∫dos via JS a partir de /data/game-data.json -->
        </main>
    </div>

    <!-- Audio: recomendado colocar arquivos em /assets/sounds/ (ex.: background.ogg) -->
    <audio id="background-music" loop preload="auto">
        <source src="/assets/sounds/background.ogg" type="audio/ogg">
        <!-- Fallback source, keep offline/demo copy in /assets/sounds/ -->
    </audio>

    <!-- Minimal SFX loader (you can reference /assets/sounds/) -->
    <audio id="sfx-click" preload="auto">
        <source src="/assets/sounds/click.mp3" type="audio/mpeg">
    </audio>

    <!-- External script (modularized) -->
    <script type="module" src="main.js"></script>
</body>
</html>
